<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap -->
    <link href="https://utdweteachcs.org/static/css/figuration.min.css" rel="stylesheet">
    <link href="https://utdweteachcs.org/static/css/navbar.css" rel="stylesheet">
    <link href="https://utdweteachcs.org/static/css/codehilite-styles.css" rel="stylesheet">
    <title>UT Dallas WeTeach_CS </title>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body class="blockly_template">
<header class="navbar navbar-dark bg-inverse navbar-fixed-top">
    <div class="container">
        <nav>
            <button class="navbar-toggler hide-lg-up float-right" type="button" data-cfw="collapse" data-cfw-collapse-toggle="#navBar"
                    data-cfw-collapse-hidden="false" aria-label="Toggle navigation">&#8801;</button>
            <a href="https://utdweteachcs.org/" class="navbar-brand navbar-brand-text hide-sm-down">UT Dallas WeTeach_CS</a>
            <a href="https://utdweteachcs.org/" class="navbar-brand navbar-brand-text hide-md-up">UTD WeTeach_CS</a>
            <a href="https://utdweteachcs.org/" class="navbar-brand navbar-brand-img float-right hide-sm-down"><img src="https://utdweteachcs.org/static/images/weteachcs_utd_logo_graphic_small.png"></a>
            <div class="collapse navbar-toggleable-md" id="navBar">
                <ul class="nav navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="https://utdweteachcs.org/syllabus/">Syllabus</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://utdweteachcs.org/calendar/">Calendar</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://utdweteachcs.org/modules/">Modules</a></li>
                    <li class="nav-item"><a href="https://utdweteachcs.slack.com/" target="_blank" class="nav-link">Slack</a></li>
                </ul>
            </div>
        </nav>
    </div>

</header>
    <div class="container" id="main" role="main">
    <div class="row">
        <div class="container">
            <div class="col-md-4">
                <button type="button" class="btn btn-block btn-primary" onclick="showTIBasic()">Generate TI-Basic
                </button>
            </div>
            <div class="col-md-4">
                <button type="button" class="btn btn-block btn-primary" onclick="saveFile('tibasic_blocks','xml')">Save
                    Workspace
                </button>
            </div>
            <div class="col-md-4">
                <button type="button" class="btn btn-block btn-primary" data-cfw="modal"
                        data-cfw-modal-toggle="#fileModal">Load Workspace
                </button>
            </div>
        </div>
    </div>
    <div class="row" style="padding-top:1rem">
        <div id="blocklyDiv" style="height: 30rem"></div>
    </div>

    <div class="modal" id="fileModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-cfw-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h2 class="modal-title" id="uploadBlockly">Upload a Saved Blockly Workspace</h2>
                </div>
                <div class="modal-body">
                    <p class="lead">Files must be Blockly xml files.</p>

                    <label class="btn btn-default btn-file">
                        Browse <input type="file" style="display: none;" id="fileInput">
                    </label>
                </div>
            </div>
        </div>
    </div>

<xml xmlns="http://www.w3.org/1999/xhtml" id="toolbox" style="display: none;">
    <category name="Logic" colour="#5C81A6">
        <block type="controls_if"></block>
        <block type="logic_compare">
            <field name="OP">EQ</field>
        </block>
        <block type="logic_operation">
            <field name="OP">AND</field>
        </block>
        <block type="logic_negate"></block>
        <block type="logic_boolean">
            <field name="BOOL">TRUE</field>
        </block>
        <block type="logic_null"></block>
    </category>
    <category name="Loops" colour="#5CA65C">
        <block type="controls_repeat_ext">
            <value name="TIMES">
                <shadow type="math_number">
                    <field name="NUM">10</field>
                </shadow>
            </value>
        </block>
        <block type="controls_whileUntil">
            <field name="MODE">WHILE</field>
        </block>
        <block type="controls_for">
            <field name="VAR">i</field>
            <value name="FROM">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
            <value name="TO">
                <shadow type="math_number">
                    <field name="NUM">10</field>
                </shadow>
            </value>
            <value name="BY">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
        </block>
    </category>
    <category name="Math" colour="#5C68A6">
        <block type="math_round">
            <field name="OP">ROUND</field>
            <value name="NUM">
                <shadow type="math_number">
                    <field name="NUM">3.1</field>
                </shadow>
            </value>
        </block>
        <block type="math_number">
            <field name="NUM">0</field>
        </block>
        <block type="math_single">
            <field name="OP">ROOT</field>
            <value name="NUM">
                <shadow type="math_number">
                    <field name="NUM">9</field>
                </shadow>
            </value>
        </block>
        <block type="math_trig">
            <field name="OP">SIN</field>
            <value name="NUM">
                <shadow type="math_number">
                    <field name="NUM">45</field>
                </shadow>
            </value>
        </block>
        <block type="math_constant">
            <field name="CONSTANT">PI</field>
        </block>
        <block type="math_number_property">
            <mutation divisor_input="false"></mutation>
            <field name="PROPERTY">EVEN</field>
            <value name="NUMBER_TO_CHECK">
                <shadow type="math_number">
                    <field name="NUM">0</field>
                </shadow>
            </value>
        </block>
        <block type="math_arithmetic">
            <field name="OP">ADD</field>
            <value name="A">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
            <value name="B">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
        </block>
        <block type="math_on_list">
            <mutation op="SUM"></mutation>
            <field name="OP">SUM</field>
        </block>
        <block type="math_modulo">
            <value name="DIVIDEND">
                <shadow type="math_number">
                    <field name="NUM">64</field>
                </shadow>
            </value>
            <value name="DIVISOR">
                <shadow type="math_number">
                    <field name="NUM">10</field>
                </shadow>
            </value>
        </block>
        <block type="math_random_int">
            <value name="FROM">
                <shadow type="math_number">
                    <field name="NUM">1</field>
                </shadow>
            </value>
            <value name="TO">
                <shadow type="math_number">
                    <field name="NUM">100</field>
                </shadow>
            </value>
        </block>
    </category>
    <category name="Text" colour="#5CA68D">
        <block type="text">
            <field name="TEXT"></field>
        </block>
        <block type="tibasic_text_prompt">
            <field name="TYPES">TEXT</field>
            <value name="PROMPT">
                <shadow type="text">
                    <field name="TEXT">What is your input? </field>
                </shadow>
            </value>
            <field name="USERINPUT">userInput</field>
        </block>
        <block type="text_print">
            <value name="TEXT">
                <shadow type="text">
                    <field name="TEXT">abc</field>
                </shadow>
            </value>
        </block>
        <block type="text_append">
            <field name="VAR">item</field>
            <value name="TEXT">
                <shadow type="text">
                    <field name="TEXT"></field>
                </shadow>
            </value>
        </block>
        <block type="text_length">
            <value name="VALUE">
                <shadow type="text">
                    <field name="TEXT">abc</field>
                </shadow>
            </value>
        </block>
        <block type="text_isEmpty">
            <value name="VALUE">
                <shadow type="text">
                    <field name="TEXT"></field>
                </shadow>
            </value>
        </block>
        <block type="text_charAt">
            <mutation at="true"></mutation>
            <field name="WHERE">FROM_START</field>
            <value name="VALUE">
                <block type="variables_get">
                    <field name="VAR">text</field>
                </block>
            </value>
        </block>
        <block type="text_join">
            <mutation items="2"></mutation>
        </block>
        <block type="text_getSubstring">
            <mutation at1="true" at2="true"></mutation>
            <field name="WHERE1">FROM_START</field>
            <field name="WHERE2">FROM_START</field>
            <value name="STRING">
                <block type="variables_get">
                    <field name="VAR">text</field>
                </block>
            </value>
        </block>
    </category>
    <category name="Lists" colour="#745CA6">
        <block type="lists_create_with">
            <mutation items="0"></mutation>
        </block>
        <block type="lists_length"></block>
        <block type="lists_isEmpty"></block>
        <block type="lists_create_with">
            <mutation items="3"></mutation>
        </block>
        <block type="lists_getIndex">
            <mutation statement="false" at="true"></mutation>
            <field name="MODE">GET</field>
            <field name="WHERE">FROM_START</field>
            <value name="VALUE">
                <block type="variables_get">
                    <field name="VAR">list</field>
                </block>
            </value>
        </block>
        <block type="lists_setIndex">
            <mutation at="true"></mutation>
            <field name="MODE">SET</field>
            <field name="WHERE">FROM_START</field>
            <value name="LIST">
                <block type="variables_get">
                    <field name="VAR">list</field>
                </block>
            </value>
        </block>
        <block type="lists_getSublist">
            <mutation at1="true" at2="true"></mutation>
            <field name="WHERE1">FROM_START</field>
            <field name="WHERE2">FROM_START</field>
            <value name="LIST">
                <block type="variables_get">
                    <field name="VAR">list</field>
                </block>
            </value>
        </block>
        <block type="lists_sort">
            <field name="TYPE">NUMERIC</field>
            <field name="DIRECTION">1</field>
        </block>
    </category>
    <sep></sep>
    <category name="TI-Innovator Hub" colour="#E98300">
        <block type="innovator_io_led_ext"></block>
        <block type="innovator_io_led"></block>
        <block type="innovator_io_wait"></block>
        <block type="innovator_io_sound_ext"></block>
        <block type="innovator_io_sound"></block>
        <block type="innovator_io_read"></block>
    </category>
    <sep></sep>
    <category name="Variables" colour="#A65C81" custom="VARIABLE"></category>
</xml>    </div>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="https://utdweteachcs.org/static/js/figuration.min.js"></script>
        <script src="https://use.fontawesome.com/ea978b152b.js"></script>

    <script src="https://utdweteachcs.org/static/js/blockly_compressed.js"></script>
    <script src="https://utdweteachcs.org/static/js/blocks_compressed.js"></script>
    <script src="https://utdweteachcs.org/static/js/tibasic_compressed.js"></script>
    <script src="https://utdweteachcs.org/static/js/en.js"></script>
    <script src="https://utdweteachcs.org/static/js/filesaver.min.js"></script>

    <script>
        var workspace = Blockly.inject('blocklyDiv', {
            toolbox: document.getElementById('toolbox'),
            grid: {spacing: 20, length: 3, colour: '#ccc', snap: true}, trashcan: true
        });

        var autoSaveChanges = function (event) {
            var xml = Blockly.Xml.workspaceToDom(workspace);
            localStorage.autoSave = Blockly.Xml.domToText(xml);
        };

        workspace.addChangeListener(autoSaveChanges);

        var restoreLastSession = function () {
            var xml_text = localStorage.autoSave;
            var xml = Blockly.Xml.textToDom(xml_text);
            Blockly.Xml.domToWorkspace(xml, workspace);
        };

        var showTIBasic = function () {
            var code = Blockly.TIBasic.workspaceToCode(workspace);
            window.alert(code);
        };


        var saveFile = function (fileName, extension) {
            var code = "";
            var xml = Blockly.Xml.workspaceToDom(workspace);
            code = Blockly.Xml.domToPrettyText(xml);
            var blob = new Blob([code], {type: "text/plain;charset=utf-8"});
            var fullFileName = fileName.trim() + "." + extension;
            saveAs(blob, fullFileName);
        };

        $(function () {
            var fileInput = document.getElementById('fileInput');

            fileInput.addEventListener('change', function (e) {
                var file = fileInput.files[0];
                var textType = /text.*/;

                if (file.type.match(textType)) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        var xml_text = reader.result;
                        var xml = Blockly.Xml.textToDom(xml_text);
                        Blockly.Xml.domToWorkspace(xml, workspace);
                    };

                    reader.readAsText(file);
                    $('#fileModal').CFW_Modal('hide');
                } else {
                    window.alert("File not supported!");
                }
            });
        })
    </script>
<footer class="footer">
    <div class="container">
        <div class="row" data-cfw="equalize" data-cfw-equalize-target="footerHeight">
            <div class="col-md-4" data-cfw-equalize-target="footerHeight">
                <div class="row footer-title">
                    <h3>Contact Us!</h3>
                </div>
                <div class="row">
                        <div class="col-3">
                            <a href="mailto:georgia.stuart@utdallas.edu" target="_blank"><i
                                    class="fa fa-envelope fa-footer fa-fw mx-auto"></i></a>
                        </div>
                        <div class="col-3">
                            <a href="https://www.facebook.com/utdweteachcs/" target="_blank"><i
                                    class="fa fa-facebook-square fa-footer fa-fw mx-auto"></i></a>
                        </div>
                        <div class="col-3">
                            <a href="https://twitter.com/utdweteachcs/" target="_blank"><i
                                    class="fa fa-twitter fa-footer fa-fw mx-auto"></i></a>
                        </div>
                        <div class="col-3">
                            <a href="https://www.instagram.com/utdweteachcs/" target="_blank"><i
                                    class="fa fa-instagram fa-footer fa-fw mx-auto"></i></a>
                        </div>
                </div>
                <div class="row hide-sm-down">
                    <a href="http://utdallas.edu" class="footer-brand" target="_blank"><img class="img-responsive"
                                                                                            src="https://utdweteachcs.org/static/images/sme_logo_white.png"></a>
                </div>
                <div class="row figuration-reference hide-sm-down">
                    <a class="" href="http://figuration.org/" target="_blank">Built for accessibility with CAST Figuration</a>
                </div>
            </div>

            <div class="col-md-4" data-cfw-equalize-target="footerHeight">
                <div class="row footer-title">
                    <h3>Funding Provided By</h3>
                </div>
                <div class="row">
                    <a href="https://stemcenter.utexas.edu/" class="footer-brand" target="_blank"><img
                            src="https://utdweteachcs.org/static/images/CSTEM-wordmark-white.png"></a>
                </div>
                <div class="row">
                    <a href="https://ti.com/" class="footer-brand" target="_blank"><img
                            src="https://utdweteachcs.org/static/images/ti_logo.png"></a>
                </div>
            </div>
            <div class="col-md-4 hide-sm-down" data-cfw-equalize-target="footerHeight">
                <div class="row footer-title">
                    <h3>Subscribe to our mailing list</h3>
                </div>
                <div class="row">
<!-- Begin MailChimp Signup Form -->

<div id="mc_embed_signup">
    <form action="//utdweteachcs.us15.list-manage.com/subscribe/post?u=bba08256017efb5b3e45a50fd&amp;id=da0261bebf"
          method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate"
          target="_blank" novalidate>
        <div id="mc_embed_signup_scroll">
            <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>

            <div class="mc-field-group form-group row">
                <label for="mce-EMAIL" class="col-sm-4">Email <span class="asterisk">*</span> </label>
                <input type="email" value="" name="EMAIL" class="required email form-control col-sm-8"
                       placeholder="name@example.com" id="mce-EMAIL">
            </div>
            <div class="mc-field-group form-group row">
                <label for="mce-FNAME" class="col-sm-4">First Name </label>
                <input type="text" value="" name="FNAME" class="form-control col-sm-8"
                       placeholder="Jane" id="mce-FNAME">
            </div>
            <div class="mc-field-group form-group row">
                <label for="mce-LNAME" class="col-sm-4">Last Name </label>
                <input type="text" value="" name="LNAME" class="form-control col-sm-8"
                       placeholder="Doe" id="mce-LNAME">
            </div>
            <div class="mc-field-group form-group row">
                <label for="mce-DISTRICT" class="col-sm-4">District </label>
                <select name="DISTRICT" class="form-control col-sm-8" id="mce-DISTRICT">
                    <option value=""></option>
                    <option value="Dallas ISD">Dallas ISD</option>
                    <option value="Garland ISD">Garland ISD</option>
                    <option value="Richardson ISD">Richardson ISD</option>
                    <option value="Plano ISD">Plano ISD</option>
                    <option value="Frisco ISD">Frisco ISD</option>
                    <option value="McKinney ISD">McKinney ISD</option>
                    <option value="Allen ISD">Allen ISD</option>
                    <option value="Private School">Private School</option>
                    <option value="Charter School">Charter School</option>
                    <option value="Other">Other</option>

                </select>
            </div>
            <div id="mce-responses" class="clear">
                <div class="response" id="mce-error-response" style="display:none"></div>
                <div class="response" id="mce-success-response" style="display:none"></div>
            </div>
            <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
            <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text"
                                                                                      name="b_bba08256017efb5b3e45a50fd_da0261bebf"
                                                                                      tabindex="-1" value=""></div>
            <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"
                                      class="button btn btn-inverse"></div>
        </div>
    </form>
</div>

<!--End mc_embed_signup-->                </div>
            </div>
        </div>
        <div class="row figuration-reference hide-md-up" style="text-align: center">
            <a href="http://figuration.org/" target="_blank">Built for accessibility with CAST Figuration</a>
        </div>
    </div>
</footer></body>
</html>